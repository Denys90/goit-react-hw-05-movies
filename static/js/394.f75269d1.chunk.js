"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[394],{394:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(861),a=r(439),u=r(757),c=r.n(u),i=r(791),s=r(340);function o(){return(o=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",url:"https://api.themoviedb.org/3/search/movie",params:{query:t,include_adult:"false",language:"en-US",page:"1"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZWVlY2IwZTM1N2IwNzY4OTc3M2U3N2E2ZjY2ODNkNiIsInN1YiI6IjY1NDM2YjMwZTFhZDc5MDEyYzkxMWMwNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.nNMftaRxeM-ZOVuw351-nkshf1rZNko2qstg9NtH3yg"}},e.prev=1,e.next=4,(0,s.Z)(r);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var l=function(e){return o.apply(this,arguments)},h=r(87),f=r(184),p=function(e){var t,r=e.onSubmit,n=(0,i.useState)(""),u=(0,a.Z)(n,2),c=u[0],s=u[1],o=(0,h.lr)(),l=(0,a.Z)(o,2),p=l[0],m=l[1],v=null!==(t=p.get("movieId"))&&void 0!==t?t:"";return(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(c),m({movieId:""})},children:[(0,f.jsx)("input",{type:"text",value:v,onChange:function(e){var t=e.target.value;if(""===t)return m({});m({movieId:t}),s(t)},placeholder:"Search movie "}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})},m=r(689),v=function(e){var t=e.movies,r=(0,m.TH)();return(0,f.jsx)("ul",{children:t&&t.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(h.rU,{to:"/movies/".concat(e.id),state:{from:r},children:e.title})},e.id)}))})},d=function(){var e=(0,i.useState)(""),t=(0,a.Z)(e,2),r=t[0],u=t[1],s=(0,i.useState)([]),o=(0,a.Z)(s,2),h=o[0],m=o[1],d=(0,i.useCallback)((0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l(r);case 5:t=e.sent,m(t.data.results),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),[r]);(0,i.useEffect)((function(){r&&d()}),[r,d]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p,{onSubmit:function(e){r!==e&&u(e)}}),(0,f.jsx)(v,{movies:h})]})},x=function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d,{})})}}}]);
//# sourceMappingURL=394.f75269d1.chunk.js.map